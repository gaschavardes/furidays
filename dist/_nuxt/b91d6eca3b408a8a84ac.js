(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{261:function(t,e,r){"use strict";r.d(e,"a",(function(){return B}));r(16),r(227);var n=r(126),o=r(127),c=r(230),h=r(228),l=r(229),f=r(225),d=r(255);function v(a){var t=a[0],e=a[1],r=a[2];return Math.sqrt(t*t+e*e+r*r)}function m(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t}function y(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function M(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t[2]=a[2]+b[2],t}function A(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t[2]=a[2]-b[2],t}function w(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t[2]=a[2]*b,t}function _(a){var t=a[0],e=a[1],r=a[2];return t*t+e*e+r*r}function O(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t}function k(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t}function S(t,a){var e=a[0],r=a[1],n=a[2],o=e*e+r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o,t}function x(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function E(t,a,b){var e=a[0],r=a[1],n=a[2],o=b[0],c=b[1],h=b[2];return t[0]=r*h-n*c,t[1]=n*o-e*h,t[2]=e*c-r*o,t}var P,F,R=(P=[0,0,0],F=[0,0,0],function(a,b){m(P,a),m(F,b),S(P,P),S(F,F);var t=x(P,F);return t>1?0:t<-1?Math.PI:Math.acos(t)});function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var B=function(t){Object(h.a)(r,t);var e=T(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return Object(n.a)(this,r),t=e.call(this,o,h,f),Object(l.a)(t,Object(c.a)(t))}return Object(o.a)(r,[{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return t.length?this.copy(t):(y(this,t,e,r),this)}},{key:"copy",value:function(t){return m(this,t),this}},{key:"add",value:function(t,e){return e?M(this,t,e):M(this,this,t),this}},{key:"sub",value:function(t,e){return e?A(this,t,e):A(this,this,t),this}},{key:"multiply",value:function(t){var e,a,b;return t.length?(a=this,b=t,(e=this)[0]=a[0]*b[0],e[1]=a[1]*b[1],e[2]=a[2]*b[2]):w(this,this,t),this}},{key:"divide",value:function(t){var e,a,b;return t.length?(a=this,b=t,(e=this)[0]=a[0]/b[0],e[1]=a[1]/b[1],e[2]=a[2]/b[2]):w(this,this,1/t),this}},{key:"inverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return k(this,t),this}},{key:"len",value:function(){return v(this)}},{key:"distance",value:function(t){return t?(a=this,e=(b=t)[0]-a[0],r=b[1]-a[1],n=b[2]-a[2],Math.sqrt(e*e+r*r+n*n)):v(this);var a,b,e,r,n}},{key:"squaredLen",value:function(){return _(this)}},{key:"squaredDistance",value:function(t){return t?(a=this,e=(b=t)[0]-a[0],r=b[1]-a[1],n=b[2]-a[2],e*e+r*r+n*n):_(this);var a,b,e,r,n}},{key:"negate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return O(this,t),this}},{key:"cross",value:function(t,e){return e?E(this,t,e):E(this,this,t),this}},{key:"scale",value:function(t){return w(this,this,t),this}},{key:"normalize",value:function(){return S(this,this),this}},{key:"dot",value:function(t){return x(this,t)}},{key:"equals",value:function(t){return b=t,(a=this)[0]===b[0]&&a[1]===b[1]&&a[2]===b[2];var a,b}},{key:"applyMatrix4",value:function(t){var e,a,r,n,o,c,h;return e=this,r=t,n=(a=this)[0],o=a[1],c=a[2],h=(h=r[3]*n+r[7]*o+r[11]*c+r[15])||1,e[0]=(r[0]*n+r[4]*o+r[8]*c+r[12])/h,e[1]=(r[1]*n+r[5]*o+r[9]*c+r[13])/h,e[2]=(r[2]*n+r[6]*o+r[10]*c+r[14])/h,this}},{key:"scaleRotateMatrix4",value:function(t){var e,a,r,n,o,c,h;return e=this,r=t,n=(a=this)[0],o=a[1],c=a[2],h=(h=r[3]*n+r[7]*o+r[11]*c+r[15])||1,e[0]=(r[0]*n+r[4]*o+r[8]*c)/h,e[1]=(r[1]*n+r[5]*o+r[9]*c)/h,e[2]=(r[2]*n+r[6]*o+r[10]*c)/h,this}},{key:"applyQuaternion",value:function(q){return function(t,a,q){var e=a[0],r=a[1],n=a[2],o=q[0],c=q[1],h=q[2],l=c*n-h*r,f=h*e-o*n,d=o*r-c*e,v=c*d-h*f,m=h*l-o*d,y=o*f-c*l,M=2*q[3];l*=M,f*=M,d*=M,v*=2,m*=2,y*=2,t[0]=e+l+v,t[1]=r+f+m,t[2]=n+d+y}(this,this,q),this}},{key:"angle",value:function(t){return R(this,t)}},{key:"lerp",value:function(t,e){return function(t,a,b,e){var r=a[0],n=a[1],o=a[2];t[0]=r+e*(b[0]-r),t[1]=n+e*(b[1]-n),t[2]=o+e*(b[2]-o)}(this,this,t,e),this}},{key:"clone",value:function(){return new r(this[0],this[1],this[2])}},{key:"fromArray",value:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=a[t],this[1]=a[t+1],this[2]=a[t+2],this}},{key:"toArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[t]=this[0],a[t+1]=this[1],a[t+2]=this[2],a}},{key:"transformDirection",value:function(t){var e=this[0],r=this[1],n=this[2];return this[0]=t[0]*e+t[4]*r+t[8]*n,this[1]=t[1]*e+t[5]*r+t[9]*n,this[2]=t[2]*e+t[6]*r+t[10]*n,this.normalize()}}]),r}(Object(d.a)(Array))},262:function(t,e,r){"use strict";r.d(e,"a",(function(){return x}));r(16),r(227);var n=r(126),o=r(127),c=r(230),h=r(228),l=r(229),f=r(225),d=r(255);r(364);function v(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],c=a[4],h=a[5],l=a[6],f=a[7],d=a[8],v=a[9],m=a[10],y=a[11],M=a[12],A=a[13],w=a[14],_=a[15],O=e*h-r*c,k=e*l-n*c,S=e*f-o*c,x=r*l-n*h,E=r*f-o*h,P=n*f-o*l,F=d*A-v*M,R=d*w-m*M,T=d*_-y*M,B=v*w-m*A,j=v*_-y*A,L=m*_-y*w,N=O*L-k*j+S*B+x*T-E*R+P*F;return N?(N=1/N,t[0]=(h*L-l*j+f*B)*N,t[1]=(n*j-r*L-o*B)*N,t[2]=(A*P-w*E+_*x)*N,t[3]=(m*E-v*P-y*x)*N,t[4]=(l*T-c*L-f*R)*N,t[5]=(e*L-n*T+o*R)*N,t[6]=(w*S-M*P-_*k)*N,t[7]=(d*P-m*S+y*k)*N,t[8]=(c*j-h*T+f*F)*N,t[9]=(r*T-e*j-o*F)*N,t[10]=(M*E-A*S+_*O)*N,t[11]=(v*S-d*E-y*O)*N,t[12]=(h*R-c*B-l*F)*N,t[13]=(e*B-r*R+n*F)*N,t[14]=(A*k-M*x-w*O)*N,t[15]=(d*x-v*k+m*O)*N,t):null}function m(t,a,b){var e=a[0],r=a[1],n=a[2],o=a[3],c=a[4],h=a[5],l=a[6],f=a[7],d=a[8],v=a[9],m=a[10],y=a[11],M=a[12],A=a[13],w=a[14],_=a[15],O=b[0],k=b[1],S=b[2],x=b[3];return t[0]=O*e+k*c+S*d+x*M,t[1]=O*r+k*h+S*v+x*A,t[2]=O*n+k*l+S*m+x*w,t[3]=O*o+k*f+S*y+x*_,O=b[4],k=b[5],S=b[6],x=b[7],t[4]=O*e+k*c+S*d+x*M,t[5]=O*r+k*h+S*v+x*A,t[6]=O*n+k*l+S*m+x*w,t[7]=O*o+k*f+S*y+x*_,O=b[8],k=b[9],S=b[10],x=b[11],t[8]=O*e+k*c+S*d+x*M,t[9]=O*r+k*h+S*v+x*A,t[10]=O*n+k*l+S*m+x*w,t[11]=O*o+k*f+S*y+x*_,O=b[12],k=b[13],S=b[14],x=b[15],t[12]=O*e+k*c+S*d+x*M,t[13]=O*r+k*h+S*v+x*A,t[14]=O*n+k*l+S*m+x*w,t[15]=O*o+k*f+S*y+x*_,t}function y(t,a,e){var r,n,o,c,h,l,f,d,v,m,y,M,A=e[0],w=e[1],_=e[2];return a===t?(t[12]=a[0]*A+a[4]*w+a[8]*_+a[12],t[13]=a[1]*A+a[5]*w+a[9]*_+a[13],t[14]=a[2]*A+a[6]*w+a[10]*_+a[14],t[15]=a[3]*A+a[7]*w+a[11]*_+a[15]):(r=a[0],n=a[1],o=a[2],c=a[3],h=a[4],l=a[5],f=a[6],d=a[7],v=a[8],m=a[9],y=a[10],M=a[11],t[0]=r,t[1]=n,t[2]=o,t[3]=c,t[4]=h,t[5]=l,t[6]=f,t[7]=d,t[8]=v,t[9]=m,t[10]=y,t[11]=M,t[12]=r*A+h*w+v*_+a[12],t[13]=n*A+l*w+m*_+a[13],t[14]=o*A+f*w+y*_+a[14],t[15]=c*A+d*w+M*_+a[15]),t}function M(t,a,e){var r=e[0],n=e[1],o=e[2];return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function A(t,a,e,r){var s,n,o,c,h,l,f,d,v,m,y,M,A,w,_,O,k,S,x,E,P,F,R,T,B=r[0],j=r[1],L=r[2],N=Math.hypot(B,j,L);return Math.abs(N)<1e-6?null:(B*=N=1/N,j*=N,L*=N,s=Math.sin(e),o=1-(n=Math.cos(e)),c=a[0],h=a[1],l=a[2],f=a[3],d=a[4],v=a[5],m=a[6],y=a[7],M=a[8],A=a[9],w=a[10],_=a[11],O=B*B*o+n,k=j*B*o+L*s,S=L*B*o-j*s,x=B*j*o-L*s,E=j*j*o+n,P=L*j*o+B*s,F=B*L*o+j*s,R=j*L*o-B*s,T=L*L*o+n,t[0]=c*O+d*k+M*S,t[1]=h*O+v*k+A*S,t[2]=l*O+m*k+w*S,t[3]=f*O+y*k+_*S,t[4]=c*x+d*E+M*P,t[5]=h*x+v*E+A*P,t[6]=l*x+m*E+w*P,t[7]=f*x+y*E+_*P,t[8]=c*F+d*R+M*T,t[9]=h*F+v*R+A*T,t[10]=l*F+m*R+w*T,t[11]=f*F+y*R+_*T,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)}function w(t,e){var r=e[0],n=e[1],o=e[2],c=e[4],h=e[5],l=e[6],f=e[8],d=e[9],v=e[10];return t[0]=Math.hypot(r,n,o),t[1]=Math.hypot(c,h,l),t[2]=Math.hypot(f,d,v),t}var _,O=(_=[0,0,0],function(t,e){var r=_;w(r,e);var n=1/r[0],o=1/r[1],c=1/r[2],h=e[0]*n,l=e[1]*o,f=e[2]*c,d=e[4]*n,v=e[5]*o,m=e[6]*c,y=e[8]*n,M=e[9]*o,A=e[10]*c,O=h+v+A,k=0;return O>0?(k=2*Math.sqrt(O+1),t[3]=.25*k,t[0]=(m-M)/k,t[1]=(y-f)/k,t[2]=(l-d)/k):h>v&&h>A?(k=2*Math.sqrt(1+h-v-A),t[3]=(m-M)/k,t[0]=.25*k,t[1]=(l+d)/k,t[2]=(y+f)/k):v>A?(k=2*Math.sqrt(1+v-h-A),t[3]=(y-f)/k,t[0]=(l+d)/k,t[1]=.25*k,t[2]=(m+M)/k):(k=2*Math.sqrt(1+A-h-v),t[3]=(l-d)/k,t[0]=(y+f)/k,t[1]=(m+M)/k,t[2]=.25*k),t});function k(t,e,r,n,o){var c=1/Math.tan(e/2),h=1/(n-o);return t[0]=c/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*h,t[15]=0,t}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var x=function(t){Object(h.a)(r,t);var e=S(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,M=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,w=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,_=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,O=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,k=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,S=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,x=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,E=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return Object(n.a)(this,r),t=e.call(this,o,h,f,d,v,m,y,M,A,w,_,O,k,S,x,E),Object(l.a)(t,Object(c.a)(t))}return Object(o.a)(r,[{key:"x",get:function(){return this[12]},set:function(t){this[12]=t}},{key:"y",get:function(){return this[13]},set:function(t){this[13]=t}},{key:"z",get:function(){return this[14]},set:function(t){this[14]=t}},{key:"w",get:function(){return this[15]},set:function(t){this[15]=t}},{key:"set",value:function(t,e,r,n,o,c,h,l,f,d,v,m,y,M,A,w){return t.length?this.copy(t):(function(t,e,r,n,o,c,h,l,f,d,v,m,y,M,A,w,_){t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=c,t[5]=h,t[6]=l,t[7]=f,t[8]=d,t[9]=v,t[10]=m,t[11]=y,t[12]=M,t[13]=A,t[14]=w,t[15]=_}(this,t,e,r,n,o,c,h,l,f,d,v,m,y,M,A,w),this)}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return y(this,e,t),this}},{key:"rotate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;return A(this,r,t,e),this}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return M(this,e,"number"==typeof t?[t,t,t]:t),this}},{key:"multiply",value:function(t,e){return e?m(this,t,e):m(this,this,t),this}},{key:"identity",value:function(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"copy",value:function(t){var e,a;return a=t,(e=this)[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e[4]=a[4],e[5]=a[5],e[6]=a[6],e[7]=a[7],e[8]=a[8],e[9]=a[9],e[10]=a[10],e[11]=a[11],e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15],this}},{key:"fromPerspective",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fov,r=t.aspect,n=t.near,o=t.far;return k(this,e,r,n,o),this}},{key:"fromOrthogonal",value:function(t){return function(t,e,r,n,o,c,h){var l=1/(e-r),f=1/(n-o),d=1/(c-h);t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+r)*l,t[13]=(o+n)*f,t[14]=(h+c)*d,t[15]=1}(this,t.left,t.right,t.bottom,t.top,t.near,t.far),this}},{key:"fromQuaternion",value:function(q){return function(t,q){var e=q[0],r=q[1],n=q[2],o=q[3],c=e+e,h=r+r,l=n+n,f=e*c,d=r*c,v=r*h,m=n*c,y=n*h,M=n*l,A=o*c,w=o*h,_=o*l;t[0]=1-v-M,t[1]=d+_,t[2]=m-w,t[3]=0,t[4]=d-_,t[5]=1-f-M,t[6]=y+A,t[7]=0,t[8]=m+w,t[9]=y-A,t[10]=1-f-v,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,q),this}},{key:"setPosition",value:function(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}},{key:"inverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return v(this,t),this}},{key:"compose",value:function(q,t,e){return function(t,q,e,s){var r=q[0],n=q[1],o=q[2],c=q[3],h=r+r,l=n+n,f=o+o,d=r*h,v=r*l,m=r*f,y=n*l,M=n*f,A=o*f,w=c*h,_=c*l,O=c*f,k=s[0],S=s[1],x=s[2];t[0]=(1-(y+A))*k,t[1]=(v+O)*k,t[2]=(m-_)*k,t[3]=0,t[4]=(v-O)*S,t[5]=(1-(d+A))*S,t[6]=(M+w)*S,t[7]=0,t[8]=(m+_)*x,t[9]=(M-w)*x,t[10]=(1-(d+y))*x,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1}(this,q,t,e),this}},{key:"getRotation",value:function(q){return O(q,this),this}},{key:"getTranslation",value:function(t){var e,r;return r=this,(e=t)[0]=r[12],e[1]=r[13],e[2]=r[14],this}},{key:"getScaling",value:function(t){return w(t,this),this}},{key:"getMaxScaleOnAxis",value:function(){return e=(t=this)[0],r=t[1],n=t[2],o=t[4],c=t[5],h=t[6],l=t[8],f=t[9],d=t[10],v=e*e+r*r+n*n,m=o*o+c*c+h*h,y=l*l+f*f+d*d,Math.sqrt(Math.max(v,m,y));var t,e,r,n,o,c,h,l,f,d,v,m,y}},{key:"lookAt",value:function(t,e,r){return function(t,e,r,n){var o=e[0],c=e[1],h=e[2],l=n[0],f=n[1],d=n[2],v=o-r[0],m=c-r[1],y=h-r[2],M=v*v+m*m+y*y;0===M?y=1:(v*=M=1/Math.sqrt(M),m*=M,y*=M);var A=f*y-d*m,w=d*v-l*y,_=l*m-f*v;0==(M=A*A+w*w+_*_)&&(d?l+=1e-6:f?d+=1e-6:f+=1e-6,M=(A=f*y-d*m)*A+(w=d*v-l*y)*w+(_=l*m-f*v)*_),A*=M=1/Math.sqrt(M),w*=M,_*=M,t[0]=A,t[1]=w,t[2]=_,t[3]=0,t[4]=m*_-y*w,t[5]=y*A-v*_,t[6]=v*w-m*A,t[7]=0,t[8]=v,t[9]=m,t[10]=y,t[11]=0,t[12]=o,t[13]=c,t[14]=h,t[15]=1}(this,t,e,r),this}},{key:"determinant",value:function(){return t=(a=this)[0],e=a[1],r=a[2],n=a[3],o=a[4],c=a[5],h=a[6],l=a[7],f=a[8],d=a[9],v=a[10],m=a[11],y=a[12],M=a[13],A=a[14],w=a[15],(t*c-e*o)*(v*w-m*A)-(t*h-r*o)*(d*w-m*M)+(t*l-n*o)*(d*A-v*M)+(e*h-r*c)*(f*w-m*y)-(e*l-n*c)*(f*A-v*y)+(r*l-n*h)*(f*M-d*y);var a,t,e,r,n,o,c,h,l,f,d,v,m,y,M,A,w}},{key:"fromArray",value:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=a[t],this[1]=a[t+1],this[2]=a[t+2],this[3]=a[t+3],this[4]=a[t+4],this[5]=a[t+5],this[6]=a[t+6],this[7]=a[t+7],this[8]=a[t+8],this[9]=a[t+9],this[10]=a[t+10],this[11]=a[t+11],this[12]=a[t+12],this[13]=a[t+13],this[14]=a[t+14],this[15]=a[t+15],this}},{key:"toArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[t]=this[0],a[t+1]=this[1],a[t+2]=this[2],a[t+3]=this[3],a[t+4]=this[4],a[t+5]=this[5],a[t+6]=this[6],a[t+7]=this[7],a[t+8]=this[8],a[t+9]=this[9],a[t+10]=this[10],a[t+11]=this[11],a[t+12]=this[12],a[t+13]=this[13],a[t+14]=this[14],a[t+15]=this[15],a}}]),r}(Object(d.a)(Array))},264:function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=90)}({17:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=r(18),i=function(){function t(){}return t.getFirstMatch=function(t,e){var r=e.match(t);return r&&r.length>0&&r[1]||""},t.getSecondMatch=function(t,e){var r=e.match(t);return r&&r.length>1&&r[2]||""},t.matchAndReturnConst=function(t,e,r){if(t.test(e))return r},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),10===e[0])switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&e[1]>=6?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&e[1]>2?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&e[1]>=4?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":9===e[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(e,r,n){void 0===n&&(n=!1);var i=t.getVersionPrecision(e),s=t.getVersionPrecision(r),a=Math.max(i,s),o=0,u=t.map([e,r],(function(e){var r=a-t.getVersionPrecision(e),n=e+new Array(r+1).join(".0");return t.map(n.split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},t.map=function(t,e){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(r=0;r<t.length;r+=1)n.push(e(t[r]));return n},t.find=function(t,e){var r,n;if(Array.prototype.find)return Array.prototype.find.call(t,e);for(r=0,n=t.length;r<n;r+=1){var i=t[r];if(e(i,r))return i}},t.assign=function(t){for(var e,r,n=t,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[t].concat(s));var o=function(){var t=s[e];"object"==typeof t&&null!==t&&Object.keys(t).forEach((function(e){n[e]=t[e]}))};for(e=0,r=s.length;e<r;e+=1)o();return t},t.getBrowserAlias=function(t){return n.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return n.BROWSER_MAP[t]||""},t}();e.default=i,t.exports=e.default},18:function(t,e,r){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(){}var e,r,n;return t.getParser=function(t,e){if(void 0===e&&(e=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new i.default(t,e)},t.parse=function(t){return new i.default(t).getResult()},e=t,n=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(e.prototype,r),n&&a(e,n),t}();e.default=o,t.exports=e.default},91:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){if(void 0===e&&(e=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}var e=t.prototype;return e.getUA=function(){return this._ua},e.test=function(t){return t.test(this._ua)},e.parseBrowser=function(){var t=this;this.parsedResult.browser={};var e=o.default.find(n.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},e.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},e.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},e.getBrowserVersion=function(){return this.getBrowser().version},e.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},e.parseOS=function(){var t=this;this.parsedResult.os={};var e=o.default.find(i.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},e.getOSName=function(t){var e=this.getOS().name;return t?String(e).toLowerCase()||"":e||""},e.getOSVersion=function(){return this.getOS().version},e.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},e.getPlatformType=function(t){void 0===t&&(t=!1);var e=this.getPlatform().type;return t?String(e).toLowerCase()||"":e||""},e.parsePlatform=function(){var t=this;this.parsedResult.platform={};var e=o.default.find(s.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},e.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},e.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},e.parseEngine=function(){var t=this;this.parsedResult.engine={};var e=o.default.find(a.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine},e.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},e.getResult=function(){return o.default.assign({},this.parsedResult)},e.satisfies=function(t){var e=this,r={},n=0,i={},s=0;if(Object.keys(t).forEach((function(e){var a=t[e];"string"==typeof a?(i[e]=a,s+=1):"object"==typeof a&&(r[e]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(t){return e.isOS(t)}));if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var h=o.default.find(a,(function(t){return e.isPlatform(t)}));if(h){var l=this.satisfies(r[h]);if(void 0!==l)return l}}if(s>0){var f=Object.keys(i),d=o.default.find(f,(function(t){return e.isBrowser(t,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},e.isBrowser=function(t,e){void 0===e&&(e=!1);var r=this.getBrowserName().toLowerCase(),n=t.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return e&&i&&(n=i.toLowerCase()),n===r},e.compareVersion=function(t){var e=[0],r=t,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===t[0]||"<"===t[0]?(r=t.substr(1),"="===t[1]?(n=!0,r=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?r=t.substr(1):"~"===t[0]&&(n=!0,r=t.substr(1)),e.indexOf(o.default.compareVersions(i,r,n))>-1},e.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},e.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},e.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},e.is=function(t,e){return void 0===e&&(e=!1),this.isBrowser(t,e)||this.isOS(t)||this.isPlatform(t)},e.some=function(t){var e=this;return void 0===t&&(t=[]),t.some((function(t){return e.is(t)}))},t}();e.default=c,t.exports=e.default},92:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(t){var e={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/opera/i],describe:function(t){var e={name:"Opera"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe:function(t){var e={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe:function(t){var e={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe:function(t){var e={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe:function(t){var e={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/focus/i],describe:function(t){var e={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/swing/i],describe:function(t){var e={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/coast/i],describe:function(t){var e={name:"Opera Coast"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(t){var e={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe:function(t){var e={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe:function(t){var e={name:"UC Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe:function(t){var e={name:"Maxthon"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe:function(t){var e={name:"Epiphany"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe:function(t){var e={name:"Puffin"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe:function(t){var e={name:"Sleipnir"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe:function(t){var e={name:"K-Meleon"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe:function(t){var e={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe:function(t){var e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe:function(t){var e={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe:function(t){var e={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe:function(t){var e={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe:function(t){var e={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe:function(t){var e={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe:function(t){var e={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe:function(t){var e={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe:function(t){var e={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe:function(t){var e={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e={name:"BlackBerry"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e={name:"WebOS Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe:function(t){var e={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe:function(t){var e={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe:function(t){var e={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var e={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe:function(t){var e={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe:function(t){var e={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe:function(t){var e={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe:function(t){var e={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe:function(t){var e={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e={name:"Android Browser"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe:function(t){var e={name:"PlayStation 4"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe:function(t){var e={name:"Safari"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/.*/i],describe:function(t){var e=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(e,t),version:i.default.getSecondMatch(e,t)}}}];e.default=a,t.exports=e.default},93:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),a=[{test:[/Roku\/DVP/],describe:function(t){var e=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:s.OS_MAP.Roku,version:e}}},{test:[/windows phone/i],describe:function(t){var e=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.WindowsPhone,version:e}}},{test:[/windows /i],describe:function(t){var e=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=i.default.getWindowsVersionName(e);return{name:s.OS_MAP.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(t){var e={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe:function(t){var e=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(e),n={name:s.OS_MAP.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var e=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:e}}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=i.default.getAndroidVersionName(e),n={name:s.OS_MAP.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:s.OS_MAP.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||i.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:s.OS_MAP.BlackBerry,version:e}}},{test:[/bada/i],describe:function(t){var e=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Bada,version:e}}},{test:[/tizen/i],describe:function(t){var e=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Tizen,version:e}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var e=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.PlayStation4,version:e}}}];e.default=a,t.exports=e.default},94:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var e=i.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){var e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe:function(t){var e=i.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&e>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),a=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:s.ENGINE_MAP.Blink};var e=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:s.ENGINE_MAP.EdgeHTML,version:e}}},{test:[/trident/i],describe:function(t){var e={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){return t.test(/presto/i)},describe:function(t){var e={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe:function(t){var e={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var e={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];e.default=a,t.exports=e.default}})},265:function(t,e,r){"use strict";var n,o,c,h,l,f,base,d=r(330),v=r(347),m=Function.prototype.apply,y=Function.prototype.call,M=Object.create,A=Object.defineProperty,w=Object.defineProperties,_=Object.prototype.hasOwnProperty,O={configurable:!0,enumerable:!1,writable:!0};o=function(t,e){var r,o;return v(e),o=this,n.call(this,t,r=function(){c.call(o,t,r),m.call(e,this,arguments)}),r.__eeOnceListener__=e,this},h=function(t){var i,e,r,n,o;if(_.call(this,"__ee__")&&(n=this.__ee__[t]))if("object"==typeof n){for(e=arguments.length,o=new Array(e-1),i=1;i<e;++i)o[i-1]=arguments[i];for(n=n.slice(),i=0;r=n[i];++i)m.call(r,this,o)}else switch(arguments.length){case 1:y.call(n,this);break;case 2:y.call(n,this,arguments[1]);break;case 3:y.call(n,this,arguments[1],arguments[2]);break;default:for(e=arguments.length,o=new Array(e-1),i=1;i<e;++i)o[i-1]=arguments[i];m.call(n,this,o)}},l={on:n=function(t,e){var data;return v(e),_.call(this,"__ee__")?data=this.__ee__:(data=O.value=M(null),A(this,"__ee__",O),O.value=null),data[t]?"object"==typeof data[t]?data[t].push(e):data[t]=[data[t],e]:data[t]=e,this},once:o,off:c=function(t,e){var data,r,n,i;if(v(e),!_.call(this,"__ee__"))return this;if(!(data=this.__ee__)[t])return this;if("object"==typeof(r=data[t]))for(i=0;n=r[i];++i)n!==e&&n.__eeOnceListener__!==e||(2===r.length?data[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete data[t];return this},emit:h},f={on:d(n),once:d(o),off:d(c),emit:d(h)},base=w({},f),t.exports=e=function(t){return null==t?M(base):w(Object(t),f)},e.methods=l},266:function(t,e,r){"use strict";var n=r(341)();t.exports=function(t){return t!==n&&null!==t}},277:function(t,e,r){"use strict";t.exports=function(t){return null!=t}},299:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(126),o=r(127),c=(r(231),r(16),r(300),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(301),r(302),new Uint8Array(4));function h(t){return 0==(t&t-1)}var l=1,f=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},image=r.image,o=r.target,c=void 0===o?e.TEXTURE_2D:o,h=r.type,f=void 0===h?e.UNSIGNED_BYTE:h,d=r.format,v=void 0===d?e.RGBA:d,m=r.internalFormat,y=void 0===m?v:m,M=r.wrapS,A=void 0===M?e.CLAMP_TO_EDGE:M,w=r.wrapT,_=void 0===w?e.CLAMP_TO_EDGE:w,O=r.generateMipmaps,k=void 0===O||O,S=r.minFilter,x=void 0===S?k?e.NEAREST_MIPMAP_LINEAR:e.LINEAR:S,E=r.magFilter,P=void 0===E?e.LINEAR:E,F=r.premultiplyAlpha,R=void 0!==F&&F,T=r.unpackAlignment,B=void 0===T?4:T,j=r.flipY,L=void 0===j?c==e.TEXTURE_2D:j,N=r.anisotropy,C=void 0===N?0:N,I=r.level,U=void 0===I?0:I,G=r.width,z=r.height,V=void 0===z?G:z;Object(n.a)(this,t),this.gl=e,this.id=l++,this.image=image,this.target=c,this.type=f,this.format=v,this.internalFormat=y,this.minFilter=x,this.magFilter=P,this.wrapS=A,this.wrapT=_,this.generateMipmaps=k,this.premultiplyAlpha=R,this.unpackAlignment=B,this.flipY=L,this.anisotropy=Math.min(C,this.gl.renderer.parameters.maxAnisotropy),this.level=U,this.width=G,this.height=V,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}return Object(o.a)(t,[{key:"bind",value:function(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(var i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.level,this.internalFormat,this.format,this.type,this.image[i]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(var r=0;r<this.image.length;r++)this.gl.compressedTexImage2D(this.target,r,this.internalFormat,this.image[r].width,this.image[r].height,0,this.image[r].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||h(this.image.width)&&h(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(var n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,c);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,c);this.store.image=this.image}}}]),t}()},308:function(t,e,r){"use strict";r.d(e,"a",(function(){return T}));var n=r(126),o=r(127),c=(r(176),r(261)),h=(r(16),r(227),r(230)),l=r(228),f=r(229),d=r(225),v=r(255);function m(t,a,b){var e=a[0],r=a[1],n=a[2],o=a[3],c=b[0],h=b[1],l=b[2],f=b[3];return t[0]=e*f+o*c+r*l-n*h,t[1]=r*f+o*h+n*c-e*l,t[2]=n*f+o*l+e*h-r*c,t[3]=o*f-e*c-r*h-n*l,t}function y(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],c=e*e+r*r+n*n+o*o,h=c?1/c:0;return t[0]=-e*h,t[1]=-r*h,t[2]=-n*h,t[3]=o*h,t}function M(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t}var A=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},w=function(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t},_=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},O=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],c=e*e+r*r+n*n+o*o;return c>0&&(c=1/Math.sqrt(c)),t[0]=e*c,t[1]=r*c,t[2]=n*c,t[3]=o*c,t};function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var S=function(t){Object(l.a)(r,t);var e=k(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(n.a)(this,r),(t=e.call(this,o,c,l,d)).onChange=function(){},Object(f.a)(t,Object(h.a)(t))}return Object(o.a)(r,[{key:"x",get:function(){return this[0]},set:function(t){this[0]=t,this.onChange()}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t,this.onChange()}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t,this.onChange()}},{key:"w",get:function(){return this[3]},set:function(t){this[3]=t,this.onChange()}},{key:"identity",value:function(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.onChange(),this}},{key:"set",value:function(t,e,r,n){return t.length?this.copy(t):(w(this,t,e,r,n),this.onChange(),this)}},{key:"rotateX",value:function(a){return function(t,a,e){e*=.5;var r=a[0],n=a[1],o=a[2],c=a[3],h=Math.sin(e),l=Math.cos(e);t[0]=r*l+c*h,t[1]=n*l+o*h,t[2]=o*l-n*h,t[3]=c*l-r*h}(this,this,a),this.onChange(),this}},{key:"rotateY",value:function(a){return function(t,a,e){e*=.5;var r=a[0],n=a[1],o=a[2],c=a[3],h=Math.sin(e),l=Math.cos(e);t[0]=r*l-o*h,t[1]=n*l+c*h,t[2]=o*l+r*h,t[3]=c*l-n*h}(this,this,a),this.onChange(),this}},{key:"rotateZ",value:function(a){return function(t,a,e){e*=.5;var r=a[0],n=a[1],o=a[2],c=a[3],h=Math.sin(e),l=Math.cos(e);t[0]=r*l+n*h,t[1]=n*l-r*h,t[2]=o*l+c*h,t[3]=c*l-o*h}(this,this,a),this.onChange(),this}},{key:"inverse",value:function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return y(this,q),this.onChange(),this}},{key:"conjugate",value:function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return M(this,q),this.onChange(),this}},{key:"copy",value:function(q){return A(this,q),this.onChange(),this}},{key:"normalize",value:function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return O(this,q),this.onChange(),this}},{key:"multiply",value:function(t,e){return e?m(this,t,e):m(this,this,t),this.onChange(),this}},{key:"dot",value:function(t){return _(this,t)}},{key:"fromMatrix3",value:function(t){return function(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,c=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*c+c]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*o+c]-e[3*c+o])*r,t[o]=(e[3*o+i]+e[3*i+o])*r,t[c]=(e[3*c+i]+e[3*i+c])*r}}(this,t),this.onChange(),this}},{key:"fromEuler",value:function(t){return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ",n=Math.sin(.5*e[0]),o=Math.cos(.5*e[0]),c=Math.sin(.5*e[1]),h=Math.cos(.5*e[1]),l=Math.sin(.5*e[2]),f=Math.cos(.5*e[2]);"XYZ"===r?(t[0]=n*h*f+o*c*l,t[1]=o*c*f-n*h*l,t[2]=o*h*l+n*c*f,t[3]=o*h*f-n*c*l):"YXZ"===r?(t[0]=n*h*f+o*c*l,t[1]=o*c*f-n*h*l,t[2]=o*h*l-n*c*f,t[3]=o*h*f+n*c*l):"ZXY"===r?(t[0]=n*h*f-o*c*l,t[1]=o*c*f+n*h*l,t[2]=o*h*l+n*c*f,t[3]=o*h*f-n*c*l):"ZYX"===r?(t[0]=n*h*f-o*c*l,t[1]=o*c*f+n*h*l,t[2]=o*h*l-n*c*f,t[3]=o*h*f+n*c*l):"YZX"===r?(t[0]=n*h*f+o*c*l,t[1]=o*c*f+n*h*l,t[2]=o*h*l-n*c*f,t[3]=o*h*f-n*c*l):"XZY"===r&&(t[0]=n*h*f-o*c*l,t[1]=o*c*f-n*h*l,t[2]=o*h*l+n*c*f,t[3]=o*h*f+n*c*l)}(this,t,t.order),this}},{key:"fromAxisAngle",value:function(t,a){return function(t,e,r){r*=.5;var s=Math.sin(r);t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=Math.cos(r)}(this,t,a),this}},{key:"slerp",value:function(q,t){return function(t,a,b,e){var r,n,o,c,h,l=a[0],f=a[1],d=a[2],v=a[3],m=b[0],y=b[1],M=b[2],A=b[3];(n=l*m+f*y+d*M+v*A)<0&&(n=-n,m=-m,y=-y,M=-M,A=-A),1-n>1e-6?(r=Math.acos(n),o=Math.sin(r),c=Math.sin((1-e)*r)/o,h=Math.sin(e*r)/o):(c=1-e,h=e),t[0]=c*l+h*m,t[1]=c*f+h*y,t[2]=c*d+h*M,t[3]=c*v+h*A}(this,this,q,t),this}},{key:"fromArray",value:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=a[t],this[1]=a[t+1],this[2]=a[t+2],this[3]=a[t+3],this}},{key:"toArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[t]=this[0],a[t+1]=this[1],a[t+2]=this[2],a[t+3]=this[3],a}}]),r}(Object(v.a)(Array)),x=r(262);function E(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ";return"XYZ"===r?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===r?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===r?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===r?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===r?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===r&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var F=new x.a,R=function(t){Object(l.a)(r,t);var e=P(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"YXZ";return Object(n.a)(this,r),(t=e.call(this,o,c,l)).order=d,t.onChange=function(){},Object(f.a)(t,Object(h.a)(t))}return Object(o.a)(r,[{key:"x",get:function(){return this[0]},set:function(t){this[0]=t,this.onChange()}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t,this.onChange()}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t,this.onChange()}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=r,this.onChange(),this)}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}},{key:"reorder",value:function(t){return this.order=t,this.onChange(),this}},{key:"fromRotationMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order;return E(this,t,e),this}},{key:"fromQuaternion",value:function(q){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order;return F.fromQuaternion(q),this.fromRotationMatrix(F,t)}},{key:"toArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[t]=this[0],a[t+1]=this[1],a[t+2]=this[2],a}}]),r}(Object(v.a)(Array)),T=function(){function t(){var e=this;Object(n.a)(this,t),this.parent=null,this.children=[],this.visible=!0,this.matrix=new x.a,this.worldMatrix=new x.a,this.matrixAutoUpdate=!0,this.position=new c.a,this.quaternion=new S,this.scale=new c.a(1),this.rotation=new R,this.up=new c.a(0,1,0),this.rotation.onChange=function(){return e.quaternion.fromEuler(e.rotation)},this.quaternion.onChange=function(){return e.rotation.fromQuaternion(e.quaternion)}}return Object(o.a)(t,[{key:"setParent",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}},{key:"addChild",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}},{key:"removeChild",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(var i=0,e=this.children.length;i<e;i++)this.children[i].updateMatrixWorld(t)}},{key:"updateMatrix",value:function(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}},{key:"traverse",value:function(t){if(!t(this))for(var i=0,e=this.children.length;i<e;i++)this.children[i].traverse(t)}},{key:"decompose",value:function(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}},{key:"lookAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}]),t}()},330:function(t,e,r){"use strict";var n=r(277),o=r(331),c=r(335),h=r(343),l=r(344),f=t.exports=function(t,e){var r,o,f,d,desc;return arguments.length<2||"string"!=typeof t?(d=e,e=t,t=null):d=arguments[2],n(t)?(r=l.call(t,"c"),o=l.call(t,"e"),f=l.call(t,"w")):(r=f=!0,o=!1),desc={value:e,configurable:r,enumerable:o,writable:f},d?c(h(d),desc):desc};f.gs=function(t,e,r){var f,d,v,desc;return"string"!=typeof t?(v=r,r=e,e=t,t=null):v=arguments[3],n(e)?o(e)?n(r)?o(r)||(v=r,r=void 0):r=void 0:(v=e,e=r=void 0):e=void 0,n(t)?(f=l.call(t,"c"),d=l.call(t,"e")):(f=!0,d=!1),desc={get:e,set:r,configurable:f,enumerable:d},v?c(h(v),desc):desc}},331:function(t,e,r){"use strict";var n=r(332),o=/^\s*class[\s{/}]/,c=Function.prototype.toString;t.exports=function(t){return!!n(t)&&!o.test(c.call(t))}},332:function(t,e,r){"use strict";var n=r(333);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!n(t)}},333:function(t,e,r){"use strict";var n=r(334);t.exports=function(t){if(!n(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},334:function(t,e,r){"use strict";var n=r(277),o={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!n(t)&&hasOwnProperty.call(o,typeof t)}},335:function(t,e,r){"use strict";t.exports=r(336)()?Object.assign:r(337)},336:function(t,e,r){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},337:function(t,e,r){"use strict";var n=r(338),o=r(342),c=Math.max;t.exports=function(t,e){var r,i,h,l=c(arguments.length,2);for(t=Object(o(t)),h=function(n){try{t[n]=e[n]}catch(t){r||(r=t)}},i=1;i<l;++i)n(e=arguments[i]).forEach(h);if(void 0!==r)throw r;return t}},338:function(t,e,r){"use strict";t.exports=r(339)()?Object.keys:r(340)},339:function(t,e,r){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},340:function(t,e,r){"use strict";var n=r(266),o=Object.keys;t.exports=function(object){return o(n(object)?Object(object):object)}},341:function(t,e,r){"use strict";t.exports=function(){}},342:function(t,e,r){"use strict";var n=r(266);t.exports=function(t){if(!n(t))throw new TypeError("Cannot use null or undefined");return t}},343:function(t,e,r){"use strict";var n=r(266),o=Array.prototype.forEach,c=Object.create,h=function(t,e){var r;for(r in t)e[r]=t[r]};t.exports=function(t){var e=c(null);return o.call(arguments,(function(t){n(t)&&h(Object(t),e)})),e}},344:function(t,e,r){"use strict";t.exports=r(345)()?String.prototype.contains:r(346)},345:function(t,e,r){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},346:function(t,e,r){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},347:function(t,e,r){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},361:function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var n=r(126),o=r(127),c=(r(231),r(16),r(258),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(297),r(34),r(46),r(99),r(298),r(261)),h=new c.a,l=1,f=1,d=!1,v=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var o in Object(n.a)(this,t),e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=l++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,r)this.addAttribute(o,r[o])}return Object(o.a)(t,[{key:"addAttribute",value:function(t,e){if(this.attributes[t]=e,e.id=f++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.buffer||(e.buffer=this.gl.createBuffer(),this.updateAttribute(e)),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}},{key:"updateAttribute",value:function(t){this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),this.gl.bufferData(t.target,t.data,this.gl.STATIC_DRAW),t.needsUpdate=!1}},{key:"setIndex",value:function(t){this.addAttribute("index",t)}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"setInstancedCount",value:function(t){this.instancedCount=t}},{key:"createVAO",value:function(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}},{key:"bindAttributes",value:function(t){var e=this;t.attributeLocations.forEach((function(t,r){var n=r.name,o=r.type;if(e.attributes[n]){var c=e.attributes[n];e.gl.bindBuffer(c.target,c.buffer),e.glState.boundBuffer=c.buffer;var h=1;35674===o&&(h=2),35675===o&&(h=3),35676===o&&(h=4);for(var l=c.size/h,f=1===h?0:h*h*h,d=1===h?0:h*h,i=0;i<h;i++)e.gl.vertexAttribPointer(t+i,l,c.type,c.normalized,c.stride+f,c.offset+i*d),e.gl.enableVertexAttribArray(t+i),e.gl.renderer.vertexAttribDivisor(t+i,c.divisor)}else console.warn("active attribute ".concat(n," not being supplied"))})),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}},{key:"draw",value:function(t){var e=this,r=t.program,n=t.mode,o=void 0===n?this.gl.TRIANGLES:n;this.gl.renderer.currentGeometry!=="".concat(this.id,"_").concat(r.attributeOrder)&&(this.VAOs[r.attributeOrder]||this.createVAO(r),this.gl.renderer.bindVertexArray(this.VAOs[r.attributeOrder]),this.gl.renderer.currentGeometry="".concat(this.id,"_").concat(r.attributeOrder)),r.attributeLocations.forEach((function(t,r){var n=r.name,o=e.attributes[n];o.needsUpdate&&e.updateAttribute(o)})),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(o,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start,this.instancedCount):this.gl.renderer.drawArraysInstanced(o,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(o,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start):this.gl.drawArrays(o,this.drawRange.start,this.drawRange.count)}},{key:"getPosition",value:function(){var t=this.attributes.position;return t.data?t:d?void 0:(console.warn("No position buffer data found to compute bounds"),d=!0)}},{key:"computeBoundingBox",value:function(t){t||(t=this.getPosition());var e=t.data,r=t.offset||0,n=t.stride||t.size;this.bounds||(this.bounds={min:new c.a,max:new c.a,center:new c.a,scale:new c.a,radius:1/0});var o=this.bounds.min,h=this.bounds.max,l=this.bounds.center,f=this.bounds.scale;o.set(1/0),h.set(-1/0);for(var i=r,d=e.length;i<d;i+=n){var v=e[i],m=e[i+1],y=e[i+2];o.x=Math.min(v,o.x),o.y=Math.min(m,o.y),o.z=Math.min(y,o.z),h.x=Math.max(v,h.x),h.y=Math.max(m,h.y),h.z=Math.max(y,h.z)}f.sub(h,o),l.add(o,h).divide(2)}},{key:"computeBoundingSphere",value:function(t){t||(t=this.getPosition());var e=t.data,r=t.offset||0,n=t.stride||t.size;this.bounds||this.computeBoundingBox(t);for(var o=0,i=r,c=e.length;i<c;i+=n)h.fromArray(e,i),o=Math.max(o,this.bounds.center.squaredDistance(h));this.bounds.radius=Math.sqrt(o)}},{key:"remove",value:function(){for(var t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(var e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}]),t}()},371:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(126),o=r(127),c=(r(99),r(278),r(16),r(36),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(35),r(46),r(27),r(178),r(293),r(128),r(34),r(54),r(175),r(231),r(258),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),1),h={},l=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.vertex,h=r.fragment,l=r.uniforms,f=void 0===l?{}:l,v=r.transparent,m=void 0!==v&&v,y=r.cullFace,M=void 0===y?e.BACK:y,A=r.frontFace,w=void 0===A?e.CCW:A,_=r.depthTest,O=void 0===_||_,k=r.depthWrite,S=void 0===k||k,x=r.depthFunc,E=void 0===x?e.LESS:x;Object(n.a)(this,t),e.canvas||console.error("gl not passed as fist argument to Program"),this.gl=e,this.uniforms=f,this.id=c++,o||console.warn("vertex shader not supplied"),h||console.warn("fragment shader not supplied"),this.transparent=m,this.cullFace=M,this.frontFace=w,this.depthTest=O,this.depthWrite=S,this.depthFunc=E,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));var P=e.createShader(e.VERTEX_SHADER);e.shaderSource(P,o),e.compileShader(P),""!==e.getShaderInfoLog(P)&&console.warn("".concat(e.getShaderInfoLog(P),"\nVertex Shader\n").concat(d(o)));var F=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(F,h),e.compileShader(F),""!==e.getShaderInfoLog(F)&&console.warn("".concat(e.getShaderInfoLog(F),"\nFragment Shader\n").concat(d(h))),this.program=e.createProgram(),e.attachShader(this.program,P),e.attachShader(this.program,F),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS))return console.warn(e.getProgramInfoLog(this.program));e.deleteShader(P),e.deleteShader(F),this.uniformLocations=new Map;for(var R=e.getProgramParameter(this.program,e.ACTIVE_UNIFORMS),T=0;T<R;T++){var B=e.getActiveUniform(this.program,T);this.uniformLocations.set(B,e.getUniformLocation(this.program,B.name));var j=B.name.match(/(\w+)/g);B.uniformName=j[0],3===j.length?(B.isStructArray=!0,B.structIndex=Number(j[1]),B.structProperty=j[2]):2===j.length&&isNaN(Number(j[1]))&&(B.isStruct=!0,B.structProperty=j[1])}this.attributeLocations=new Map;for(var L=[],N=e.getProgramParameter(this.program,e.ACTIVE_ATTRIBUTES),C=0;C<N;C++){var I=e.getActiveAttrib(this.program,C),U=e.getAttribLocation(this.program,I.name);L[U]=I.name,this.attributeLocations.set(I,U)}this.attributeOrder=L.join("")}return Object(o.a)(t,[{key:"setBlendFunc",value:function(t,e,r,n){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=n,t&&(this.transparent=!0)}},{key:"setBlendEquation",value:function(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}},{key:"applyState",value:function(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}},{key:"use",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.flipFaces,n=void 0!==r&&r,o=-1,c=this.gl.renderer.currentProgram===this.id;c||(this.gl.useProgram(this.program),this.gl.renderer.currentProgram=this.id),this.uniformLocations.forEach((function(e,r){var n=r.uniformName,c=t.uniforms[n];if(r.isStruct&&(c=c[r.structProperty],n+=".".concat(r.structProperty)),r.isStructArray&&(c=c[r.structIndex][r.structProperty],n+="[".concat(r.structIndex,"].").concat(r.structProperty)),!c)return m("Active uniform ".concat(n," has not been supplied"));if(c&&void 0===c.value)return m("".concat(n," uniform is missing a value parameter"));if(c.value.texture)return o+=1,c.value.update(o),f(t.gl,r.type,e,o);if(c.value.length&&c.value[0].texture){var h=[];return c.value.forEach((function(t){o+=1,t.update(o),h.push(o)})),f(t.gl,r.type,e,h)}f(t.gl,r.type,e,c.value)})),this.applyState(),n&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}},{key:"remove",value:function(){this.gl.deleteProgram(this.program)}}]),t}();function f(t,e,r,n){n=n.length?function(a){var t=a.length,e=a[0].length;if(void 0===e)return a;var r=t*e,n=h[r];n||(h[r]=n=new Float32Array(r));for(var i=0;i<t;i++)n.set(a[i],i*e);return n}(n):n;var o=t.renderer.state.uniformLocations.get(r);if(n.length)if(void 0===o||o.length!==n.length)t.renderer.state.uniformLocations.set(r,n.slice(0));else{if(function(a,b){if(a.length!==b.length)return!1;for(var i=0,t=a.length;i<t;i++)if(a[i]!==b[i])return!1;return!0}(o,n))return;o.set?o.set(n):function(a,b){for(var i=0,t=a.length;i<t;i++)a[i]=b[i]}(o,n),t.renderer.state.uniformLocations.set(r,o)}else{if(o===n)return;t.renderer.state.uniformLocations.set(r,n)}switch(e){case 5126:return n.length?t.uniform1fv(r,n):t.uniform1f(r,n);case 35664:return t.uniform2fv(r,n);case 35665:return t.uniform3fv(r,n);case 35666:return t.uniform4fv(r,n);case 35670:case 5124:case 35678:case 35680:return n.length?t.uniform1iv(r,n):t.uniform1i(r,n);case 35671:case 35667:return t.uniform2iv(r,n);case 35672:case 35668:return t.uniform3iv(r,n);case 35673:case 35669:return t.uniform4iv(r,n);case 35674:return t.uniformMatrix2fv(r,!1,n);case 35675:return t.uniformMatrix3fv(r,!1,n);case 35676:return t.uniformMatrix4fv(r,!1,n)}}function d(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}var v=0;function m(t){v>100||(console.warn(t),++v>100&&console.warn("More than 100 program warnings - stopping logs."))}},372:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));r(227);var n=r(126),o=r(127),c=r(228),h=r(229),l=r(225);r(231),r(16),r(258),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(296),r(297);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var d=function(t){Object(c.a)(r,t);var e=f(r);function r(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=o.width,h=void 0===c?1:c,l=o.height,f=void 0===l?1:l,d=o.widthSegments,v=void 0===d?1:d,m=o.heightSegments,y=void 0===m?1:m,M=o.attributes,A=void 0===M?{}:M;Object(n.a)(this,r);var w=v,_=y,O=(w+1)*(_+1),k=w*_*6,S=new Float32Array(3*O),x=new Float32Array(3*O),E=new Float32Array(2*O),P=k>65536?new Uint32Array(k):new Uint16Array(k);return r.buildPlane(S,x,E,P,h,f,0,w,_),Object.assign(A,{position:{size:3,data:S},normal:{size:3,data:x},uv:{size:2,data:E},index:{data:P}}),e.call(this,t,A)}return Object(o.a)(r,null,[{key:"buildPlane",value:function(t,e,r,n,o,c,h,l,f){for(var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,v=arguments.length>11&&void 0!==arguments[11]?arguments[11]:2,m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,y=arguments.length>13&&void 0!==arguments[13]?arguments[13]:-1,i=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,M=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,A=i,w=o/l,_=c/f,O=0;O<=f;O++)for(var k=O*_-c/2,S=0;S<=l;S++,i++){var x=S*w-o/2;if(t[3*i+u]=x*m,t[3*i+d]=k*y,t[3*i+v]=h/2,e[3*i+u]=0,e[3*i+d]=0,e[3*i+v]=h>=0?1:-1,r[2*i]=S/l,r[2*i+1]=1-O/f,O!==f&&S!==l){var a=A+S+O*(l+1),b=A+S+(O+1)*(l+1),E=A+S+(O+1)*(l+1)+1,P=A+S+O*(l+1)+1;n[6*M]=a,n[6*M+1]=b,n[6*M+2]=P,n[6*M+3]=b,n[6*M+4]=E,n[6*M+5]=P,M++}}}}]),r}(r(361).a)},379:function(t,e,r){"use strict";r.d(e,"a",(function(){return E}));r(227);var n=r(126),o=r(127),c=r(228),h=r(229),l=r(225),f=(r(16),r(34),r(308)),d=r(230),v=r(255);function m(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],c=a[4],h=a[5],l=a[6],f=a[7],d=a[8],v=d*c-h*f,m=-d*o+h*l,y=f*o-c*l,M=e*v+r*m+n*y;return M?(M=1/M,t[0]=v*M,t[1]=(-d*r+n*f)*M,t[2]=(h*r-n*c)*M,t[3]=m*M,t[4]=(d*e-n*l)*M,t[5]=(-h*e+n*o)*M,t[6]=y*M,t[7]=(-f*e+r*l)*M,t[8]=(c*e-r*o)*M,t):null}function y(t,a,b){var e=a[0],r=a[1],n=a[2],o=a[3],c=a[4],h=a[5],l=a[6],f=a[7],d=a[8],v=b[0],m=b[1],y=b[2],M=b[3],A=b[4],w=b[5],_=b[6],O=b[7],k=b[8];return t[0]=v*e+m*o+y*l,t[1]=v*r+m*c+y*f,t[2]=v*n+m*h+y*d,t[3]=M*e+A*o+w*l,t[4]=M*r+A*c+w*f,t[5]=M*n+A*h+w*d,t[6]=_*e+O*o+k*l,t[7]=_*r+O*c+k*f,t[8]=_*n+O*h+k*d,t}function M(t,a,e){var r=a[0],n=a[1],o=a[2],c=a[3],h=a[4],l=a[5],f=a[6],d=a[7],v=a[8],m=e[0],y=e[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=c,t[4]=h,t[5]=l,t[6]=m*r+y*c+f,t[7]=m*n+y*h+d,t[8]=m*o+y*l+v,t}function A(t,a,e){var r=a[0],n=a[1],o=a[2],c=a[3],h=a[4],l=a[5],f=a[6],d=a[7],v=a[8],s=Math.sin(e),m=Math.cos(e);return t[0]=m*r+s*c,t[1]=m*n+s*h,t[2]=m*o+s*l,t[3]=m*c-s*r,t[4]=m*h-s*n,t[5]=m*l-s*o,t[6]=f,t[7]=d,t[8]=v,t}function w(t,a,e){var r=e[0],n=e[1];return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=n*a[3],t[4]=n*a[4],t[5]=n*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var O=function(t){Object(c.a)(r,t);var e=_(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,M=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;return Object(n.a)(this,r),t=e.call(this,o,c,l,f,v,m,y,M,A),Object(h.a)(t,Object(d.a)(t))}return Object(o.a)(r,[{key:"set",value:function(t,e,r,n,o,c,h,l,f){return t.length?this.copy(t):(function(t,e,r,n,o,c,h,l,f,d){t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=c,t[5]=h,t[6]=l,t[7]=f,t[8]=d}(this,t,e,r,n,o,c,h,l,f),this)}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return M(this,e,t),this}},{key:"rotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return A(this,e,t),this}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return w(this,e,t),this}},{key:"multiply",value:function(t,e){return e?y(this,t,e):y(this,this,t),this}},{key:"identity",value:function(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this}},{key:"copy",value:function(t){var e,a;return a=t,(e=this)[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e[4]=a[4],e[5]=a[5],e[6]=a[6],e[7]=a[7],e[8]=a[8],this}},{key:"fromMatrix4",value:function(t){var e,a;return a=t,(e=this)[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[4],e[4]=a[5],e[5]=a[6],e[6]=a[8],e[7]=a[9],e[8]=a[10],this}},{key:"fromQuaternion",value:function(q){return function(t,q){var e=q[0],r=q[1],n=q[2],o=q[3],c=e+e,h=r+r,l=n+n,f=e*c,d=r*c,v=r*h,m=n*c,y=n*h,M=n*l,A=o*c,w=o*h,_=o*l;t[0]=1-v-M,t[3]=d-_,t[6]=m+w,t[1]=d+_,t[4]=1-f-M,t[7]=y-A,t[2]=m-w,t[5]=y+A,t[8]=1-f-v}(this,q),this}},{key:"fromBasis",value:function(t,e,r){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],r[0],r[1],r[2]),this}},{key:"inverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return m(this,t),this}},{key:"getNormalMatrix",value:function(t){var e,a,r,n,o,c,h,l,f,d,v,m,y,M,A,w,_,O,k,S,x,E,P,F,R,T,B,j,L,N,C;return e=this,r=(a=t)[0],n=a[1],o=a[2],c=a[3],h=a[4],l=a[5],f=a[6],d=a[7],v=a[8],m=a[9],y=a[10],M=a[11],A=a[12],w=a[13],_=a[14],O=a[15],(C=(k=r*l-n*h)*(N=y*O-M*_)-(S=r*f-o*h)*(L=m*O-M*w)+(x=r*d-c*h)*(j=m*_-y*w)+(E=n*f-o*l)*(B=v*O-M*A)-(P=n*d-c*l)*(T=v*_-y*A)+(F=o*d-c*f)*(R=v*w-m*A))&&(C=1/C,e[0]=(l*N-f*L+d*j)*C,e[1]=(f*B-h*N-d*T)*C,e[2]=(h*L-l*B+d*R)*C,e[3]=(o*L-n*N-c*j)*C,e[4]=(r*N-o*B+c*T)*C,e[5]=(n*B-r*L-c*R)*C,e[6]=(w*F-_*P+O*E)*C,e[7]=(_*x-A*F-O*S)*C,e[8]=(A*P-w*x+O*k)*C),this}}]),r}(Object(v.a)(Array)),k=r(262);function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var x=0,E=function(t){Object(c.a)(r,t);var e=S(r);function r(t){var o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=c.geometry,l=c.program,f=c.mode,d=void 0===f?t.TRIANGLES:f,v=c.frustumCulled,m=void 0===v||v,y=c.renderOrder,M=void 0===y?0:y;return Object(n.a)(this,r),o=e.call(this),t.canvas||console.error("gl not passed as first argument to Mesh"),o.gl=t,o.id=x++,o.geometry=h,o.program=l,o.mode=d,o.frustumCulled=m,o.renderOrder=M,o.modelViewMatrix=new k.a,o.normalMatrix=new O,o.beforeRenderCallbacks=[],o.afterRenderCallbacks=[],o}return Object(o.a)(r,[{key:"onBeforeRender",value:function(t){return this.beforeRenderCallbacks.push(t),this}},{key:"onAfterRender",value:function(t){return this.afterRenderCallbacks.push(t),this}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.camera;this.beforeRenderCallbacks.forEach((function(e){return e&&e({mesh:t,camera:r})})),r&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=r.projectionMatrix,this.program.uniforms.cameraPosition.value=r.worldPosition,this.program.uniforms.viewMatrix.value=r.viewMatrix,this.modelViewMatrix.multiply(r.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);var n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach((function(e){return e&&e({mesh:t,camera:r})}))}}]),r}(f.a)},380:function(t,e,r){"use strict";r.d(e,"a",(function(){return S}));r(16),r(227);var n=r(126),o=r(127),c=r(230),h=r(228),l=r(229),f=r(225),d=r(255);function v(t,e,r){return t[0]=e,t[1]=r,t}function m(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t}function y(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t}function M(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t}function A(a){var t=a[0],e=a[1];return Math.sqrt(t*t+e*e)}function w(t,a){return t[0]=-a[0],t[1]=-a[1],t}function _(t,a){return t[0]=1/a[0],t[1]=1/a[1],t}function O(a,b){return a[0]*b[1]-a[1]*b[0]}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var S=function(t){Object(h.a)(r,t);var e=k(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return Object(n.a)(this,r),t=e.call(this,o,h),Object(l.a)(t,Object(c.a)(t))}return Object(o.a)(r,[{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t.length?this.copy(t):(v(this,t,e),this)}},{key:"copy",value:function(t){var e,a;return a=t,(e=this)[0]=a[0],e[1]=a[1],this}},{key:"add",value:function(t,e){return e?m(this,t,e):m(this,this,t),this}},{key:"sub",value:function(t,e){return e?y(this,t,e):y(this,this,t),this}},{key:"multiply",value:function(t){var e,a,b;return t.length?(a=this,b=t,(e=this)[0]=a[0]*b[0],e[1]=a[1]*b[1]):M(this,this,t),this}},{key:"divide",value:function(t){var e,a,b;return t.length?(a=this,b=t,(e=this)[0]=a[0]/b[0],e[1]=a[1]/b[1]):M(this,this,1/t),this}},{key:"inverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return _(this,t),this}},{key:"len",value:function(){return A(this)}},{key:"distance",value:function(t){return t?(a=this,e=(b=t)[0]-a[0],r=b[1]-a[1],Math.sqrt(e*e+r*r)):A(this);var a,b,e,r}},{key:"squaredLen",value:function(){return this.squaredDistance()}},{key:"squaredDistance",value:function(t){return t?(a=this,e=(b=t)[0]-a[0],r=b[1]-a[1],e*e+r*r):function(a){var t=a[0],e=a[1];return t*t+e*e}(this);var a,b,e,r}},{key:"negate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return w(this,t),this}},{key:"cross",value:function(t,e){return e?O(t,e):O(this,t)}},{key:"scale",value:function(t){return M(this,this,t),this}},{key:"normalize",value:function(){var t,a,e,r,n;return t=this,e=(a=this)[0],r=a[1],(n=e*e+r*r)>0&&(n=1/Math.sqrt(n)),t[0]=a[0]*n,t[1]=a[1]*n,this}},{key:"dot",value:function(t){return b=t,(a=this)[0]*b[0]+a[1]*b[1];var a,b}},{key:"equals",value:function(t){return b=t,(a=this)[0]===b[0]&&a[1]===b[1];var a,b}},{key:"applyMatrix3",value:function(t){var e,a,r,n,o;return e=this,r=t,n=(a=this)[0],o=a[1],e[0]=r[0]*n+r[3]*o+r[6],e[1]=r[1]*n+r[4]*o+r[7],this}},{key:"applyMatrix4",value:function(t){var e,a,r,n,o;return e=this,r=t,n=(a=this)[0],o=a[1],e[0]=r[0]*n+r[4]*o+r[12],e[1]=r[1]*n+r[5]*o+r[13],this}},{key:"lerp",value:function(t,a){return function(t,a,b,e){var r=a[0],n=a[1];t[0]=r+e*(b[0]-r),t[1]=n+e*(b[1]-n)}(this,this,t,a),this}},{key:"clone",value:function(){return new r(this[0],this[1])}},{key:"fromArray",value:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=a[t],this[1]=a[t+1],this}},{key:"toArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[t]=this[0],a[t+1]=this[1],a}}]),r}(Object(d.a)(Array))},381:function(t,e,r){"use strict";r.d(e,"a",(function(){return w}));var n=r(32),o=r(126),c=r(127),h=(r(27),r(175),r(72),r(73),r(16),r(366),r(299)),l=(r(227),r(228)),f=r(229),d=r(225);r(231),r(300),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(296),r(367),r(368);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var m=function(t){Object(l.a)(r,t);var e=v(r);function r(t){var n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=c.buffer,l=c.wrapS,d=void 0===l?t.CLAMP_TO_EDGE:l,v=c.wrapT,m=void 0===v?t.CLAMP_TO_EDGE:v,y=c.anisotropy,M=void 0===y?0:y,A=c.minFilter,w=c.magFilter;return Object(o.a)(this,r),n=e.call(this,t,{generateMipmaps:!1,wrapS:d,wrapT:m,anisotropy:M,minFilter:A,magFilter:w}),h?Object(f.a)(n,n.parseBuffer(h)):n}return Object(c.a)(r,[{key:"parseBuffer",value:function(t){var e=new y(t);e.mipmaps.isCompressedTexture=!0,this.image=e.mipmaps,this.internalFormat=e.glInternalFormat,e.numberOfMipmapLevels>1?this.minFilter===this.gl.LINEAR&&(this.minFilter=this.gl.NEAREST_MIPMAP_LINEAR):this.minFilter===this.gl.NEAREST_MIPMAP_LINEAR&&(this.minFilter=this.gl.LINEAR)}}]),r}(h.a);function y(t){for(var e=[171,75,84,88,32,49,49,187,13,10,26,10],r=new Uint8Array(t,0,12),i=0;i<r.length;i++)if(r[i]!==e[i])return console.error("File missing KTX identifier");var n=Uint32Array.BYTES_PER_ELEMENT,head=new DataView(t,12,13*n),o=67305985===head.getUint32(0,!0);if(0!==head.getUint32(1*n,o))return console.warn("only compressed formats currently supported");this.glInternalFormat=head.getUint32(4*n,o);var c=head.getUint32(6*n,o),h=head.getUint32(7*n,o);this.numberOfFaces=head.getUint32(10*n,o),this.numberOfMipmapLevels=Math.max(1,head.getUint32(11*n,o));var l=head.getUint32(12*n,o);this.mipmaps=[];for(var f=64+l,d=0;d<this.numberOfMipmapLevels;d++){var v=new Int32Array(t,f,1)[0];f+=4;for(var m=0;m<this.numberOfFaces;m++){var data=new Uint8Array(t,f,v);this.mipmaps.push({data:data,width:c,height:h}),f+=v,f+=3-(v+3)%4}c>>=1,h>>=1}}var M={},A=[],w=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,null,[{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.src,o=e.wrapS,c=void 0===o?t.CLAMP_TO_EDGE:o,l=e.wrapT,f=void 0===l?t.CLAMP_TO_EDGE:l,d=e.anisotropy,v=void 0===d?0:d,y=e.format,A=void 0===y?t.RGBA:y,w=e.internalFormat,_=void 0===w?A:w,O=e.generateMipmaps,k=void 0===O||O,S=e.minFilter,x=void 0===S?k?t.NEAREST_MIPMAP_LINEAR:t.LINEAR:S,E=e.magFilter,P=void 0===E?t.LINEAR:E,F=e.premultiplyAlpha,R=void 0!==F&&F,T=e.unpackAlignment,B=void 0===T?4:T,j=e.flipY,L=void 0===j||j,N=this.getSupportedExtensions(t),C="none";if("string"==typeof r&&(C=r.split(".").pop().split("?")[0].toLowerCase()),"object"===Object(n.a)(r))for(var I in r)if(N.includes(I.toLowerCase())){C=I.toLowerCase(),r=r[I];break}var U,G=r+c+f+v+A+_+k+x+P+R+B+L+t.renderer.id;if(M[G])return M[G];switch(C){case"ktx":case"pvrtc":case"s3tc":case"etc":case"etc1":case"astc":(U=new m(t,{src:r,wrapS:c,wrapT:f,anisotropy:v,minFilter:x,magFilter:P})).loaded=this.loadKTX(r,U);break;case"webp":case"jpg":case"jpeg":case"png":(U=new h.a(t,{wrapS:c,wrapT:f,anisotropy:v,format:A,internalFormat:_,generateMipmaps:k,minFilter:x,magFilter:P,premultiplyAlpha:R,unpackAlignment:B,flipY:L})).loaded=this.loadImage(t,r,U,L);break;default:console.warn("No supported format supplied"),U=new h.a(t)}return U.ext=C,M[G]=U,U}},{key:"getSupportedExtensions",value:function(t){if(A.length)return A;var e={pvrtc:t.renderer.getExtension("WEBGL_compressed_texture_pvrtc")||t.renderer.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),s3tc:t.renderer.getExtension("WEBGL_compressed_texture_s3tc"),etc1:t.renderer.getExtension("WEBGL_compressed_texture_etc1"),astc:t.renderer.getExtension("WEBGL_compressed_texture_astc"),bc7:t.renderer.getExtension("EXT_texture_compression_bptc")};for(var r in e)e[r]&&A.push(r);return 0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")&&A.push("webp"),A.push("png","jpg"),A}},{key:"loadKTX",value:function(t,e){return fetch(t).then((function(t){return t.arrayBuffer()})).then((function(t){return e.parseBuffer(t)}))}},{key:"loadImage",value:function(t,e,r,n){return function(t,e){return new Promise((function(r){var n=navigator.userAgent.toLowerCase().includes("chrome");if(window.createImageBitmap&&n)fetch(t,{mode:"cors"}).then((function(t){return t.blob()})).then((function(b){return createImageBitmap(b,{imageOrientation:e?"flipY":"none",premultiplyAlpha:"none"})})).then(r);else{var img=new Image;img.crossOrigin="",img.src=t,img.onload=function(){return r(img)}}}))}(e,n).then((function(e){return _(e.width)&&_(e.height)||(r.generateMipmaps&&(r.generateMipmaps=!1),r.minFilter===t.NEAREST_MIPMAP_LINEAR&&(r.minFilter=t.LINEAR),r.wrapS===t.REPEAT&&(r.wrapS=r.wrapT=t.CLAMP_TO_EDGE)),r.image=e,r.onUpdate=function(){e.close&&e.close(),r.onUpdate=null},e}))}},{key:"clearCache",value:function(){M={}}}]),t}();function _(t){return Math.log2(t)%1==0}}}]);